(this.webpackJsonpreact_spas=this.webpackJsonpreact_spas||[]).push([[0],{29:function(e,t,a){e.exports=a(55)},34:function(e,t,a){},44:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(26),l=a.n(r),i=(a(34),a(4)),c=a(5),o=a(7),m=a(6),u=a(8),d=a(10),h=a(15),p=a.n(h);a(42),a(43);p.a.initializeApp({apiKey:"AIzaSyANjfw0ovCegUHkO5Awx0eemG07nBPvWEg",authDomain:"leafy-summer-255309.firebaseapp.com",databaseURL:"https://leafy-summer-255309.firebaseio.com",projectId:"leafy-summer-255309",storageBucket:"leafy-summer-255309.appspot.com",messagingSenderId:"178019273444",appId:"1:178019273444:web:85b1903126b17b009ebaf1",measurementId:"G-N13D0J8NZE"});new p.a.auth.GoogleAuthProvider,p.a.auth();var g=p.a,b=(a(44),a(45),a(46),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.user;return s.a.createElement("div",{className:"container text-center"},s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"col-10 col-md-10 col-lg-8 col-xl-7"},s.a.createElement("div",{className:"display-4 text-primary mt-3 mb-2",style:{fontSize:"2.8em"}},"Meeting bao12"),s.a.createElement("p",{className:"lead",style:{fontSize:"1.4em",fontWeight:200}},"This simple app creates meetings, allows people to check in, and picks random users to award giveaways. It's a good example of a Single Page Application which includes connection to a database and routing. It's a practical way to learn",s.a.createElement(d.a,{to:"https://reactjs.org/"},"React"),"with ",s.a.createElement(d.a,{to:"https://firebase.google.com"},"Firebase"),"."),null==e&&s.a.createElement("span",null,s.a.createElement(d.a,{to:"/register",className:"btn btn-outline-primary mr-2"},"Register"),s.a.createElement(d.a,{to:"/login",className:"btn btn-outline-primary mr-2"},"Log In")),e&&s.a.createElement(d.a,{to:"/meetings",className:"btn btn-primary"},"Meetings"))))}}]),t}(n.Component)),f=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"text-secondary font-weight-bold pl-1 text-center"},s.a.createElement("span",null,"Welcome ",this.props.userName,","),s.a.createElement(d.a,{to:"/login",className:"font-weight-bold text-primary pl-1",onClick:function(t){return e.props.logOutUser(t)}},"log out"))}}]),t}(n.Component),v=a(18),E=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.logOutUser;return s.a.createElement("nav",{className:"site-nav family-sans navbar navbar-expand bg-primary navbar-dark higher"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("a",{href:"/",className:"navbar-brand"},s.a.createElement(v.c,{className:"mr-1"})," Meeting Log"),!t&&s.a.createElement("div",{className:"navbar-nav ml-auto"},s.a.createElement("a",{className:"nav-item nav-link",href:"/login"},"log in"),s.a.createElement("a",{className:"nav-item nav-link",href:"/register"},"register")),t&&s.a.createElement("div",{className:"navbar-nav ml-auto"},s.a.createElement("a",{className:"nav-item nav-link",href:"/meetings"},"meetings"),s.a.createElement("a",{className:"nav-item nav-link",href:"/logout",onClick:function(e){return a(e)}},"log out"))))}}]),t}(n.Component),N=a(12),y=a(9),O=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.theMessage;return s.a.createElement("div",{className:"col-12 alert alert-danger px-3"},e)}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={email:"",password:"",errorMessage:null},a.handleChamge=a.handleChamge.bind(Object(y.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(y.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleChamge",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(N.a)({},t,a))}},{key:"handleSubmit",value:function(e){var t=this,a={email:this.state.email,password:this.state.password};e.preventDefault(),g.auth().signInWithEmailAndPassword(a.email,a.password).then((function(){Object(d.c)("/meetings")})).catch((function(e){null!=e.message?t.setState({errorMessage:e.message}):t.setState({errorMessage:null})}))}},{key:"render",value:function(){return s.a.createElement("form",{className:"mt-3",onSubmit:this.handleSubmit},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"card bg-light"},s.a.createElement("div",{className:"card-body"},s.a.createElement("h3",{className:"font-weight-light mb-3"},"Log in"),s.a.createElement("section",{className:"form-group"},null!=this.state.errorMessage?s.a.createElement(O,{theMessage:this.state.errorMessage}):null,s.a.createElement("label",{className:"form-control-label sr-only",htmlFor:"Email"},"Email"),s.a.createElement("input",{required:!0,className:"form-control",type:"email",id:"email",name:"email",placeholder:"Email",onChange:this.handleChamge})),s.a.createElement("section",{className:"form-group"},s.a.createElement("input",{required:!0,className:"form-control",type:"password",name:"password",placeholder:"Password",onChange:this.handleChamge})),s.a.createElement("div",{className:"form-group text-right mb-0"},s.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Log in"))))))))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={displayName:"",email:"",passOne:"",passTwo:"",errorMessage:null},a.handleChamge=a.handleChamge.bind(Object(y.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(y.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleChamge",value:function(e){var t=this,a=e.target.name,n=e.target.value;this.setState(Object(N.a)({},a,n),(function(){t.state.passOne!==t.state.passTwo?t.setState({errorMessage:"Password is not match"}):t.setState({errorMessage:null})}))}},{key:"handleSubmit",value:function(e){var t=this,a={displayName:this.state.displayName,email:this.state.email,password:this.state.passOne};e.preventDefault(),g.auth().createUserWithEmailAndPassword(a.email,a.password).then((function(){t.props.registerUser(a.displayName)})).catch((function(e){null!=e.message?t.setState({errorMessage:e.message}):t.setState({errorMessage:null})}))}},{key:"render",value:function(){return s.a.createElement("form",{className:"mt-3",onSubmit:this.handleSubmit},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"col-lg-8"},s.a.createElement("div",{className:"card bg-light"},s.a.createElement("div",{className:"card-body"},s.a.createElement("h3",{className:"font-weight-light mb-3"},"Register"),s.a.createElement("div",{className:"form-row"},null!=this.state.errorMessage?s.a.createElement(O,{theMessage:this.state.errorMessage}):null,s.a.createElement("section",{className:"col-sm-12 form-group"},s.a.createElement("label",{className:"form-control-label sr-only",htmlFor:"displayName"},"Display Name"),s.a.createElement("input",{className:"form-control",type:"text",id:"displayName",placeholder:"Display Name",name:"displayName",required:!0,value:this.state.displayName,onChange:this.handleChamge}))),s.a.createElement("section",{className:"form-group"},s.a.createElement("label",{className:"form-control-label sr-only",htmlFor:"email"},"Email"),s.a.createElement("input",{className:"form-control",type:"email",id:"email",placeholder:"Email Address",required:!0,name:"email",value:this.state.email,onChange:this.handleChamge})),s.a.createElement("div",{className:"form-row"},s.a.createElement("section",{className:"col-sm-6 form-group"},s.a.createElement("input",{className:"form-control",type:"password",name:"passOne",placeholder:"Password",value:this.state.passOne,onChange:this.handleChamge})),s.a.createElement("section",{className:"col-sm-6 form-group"},s.a.createElement("input",{className:"form-control",type:"password",required:!0,name:"passTwo",placeholder:"Repeat Password",value:this.state.passTwo,onChange:this.handleChamge}))),s.a.createElement("div",{className:"form-group text-right mb-0"},s.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Register"))))))))}}]),t}(n.Component),C=a(56),D=a(57),I=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).deleteMeeting=function(e,t){e.preventDefault(),g.database().ref("meetings/".concat(a.props.userID,"/").concat(t)).remove()},a.deleteMeeting=a.deleteMeeting.bind(Object(y.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.meetingID.map((function(t){return s.a.createElement("div",{className:""},s.a.createElement("div",{className:"border border-secondary mw-25 rounded m-1 view overlay"},s.a.createElement("section",{className:"btn-group d-flex align-items-center justify-content-center",role:"group","aria-label":"Meeting Options"},s.a.createElement("button",{className:"btn btn-sm btn-outline-secondary w-25",title:"Delete Meeting",onClick:function(a){return e.deleteMeeting(a,t.meetingID)}},s.a.createElement(C.a,null)),s.a.createElement("button",{className:"btn btn-sm btn-outline-secondary w-25",title:"Check In",onClick:function(a){return Object(d.c)("/checkin/".concat(e.props.userID,"/").concat(t.meetingID))}},s.a.createElement(v.a,null)),s.a.createElement("button",{className:"btn btn-sm btn-outline-secondary w-25",title:"See Attendees",onClick:function(a){return Object(d.c)("/attendees/".concat(e.props.userID,"/").concat(t.meetingID))}},s.a.createElement(D.a,null)),s.a.createElement("div",{className:""},s.a.createElement("p",null,t.meetingName)))))}));return s.a.createElement("div",{className:"col-11 text-center card border-top-0 rounded-0"},s.a.createElement("div",{className:"card-body py-2"},s.a.createElement("h2",{className:"card-title font-weight-light m-0"}," Meeting List "),s.a.createElement("div",{className:"list-group list-group-flush"},t)))}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={meetingName:"",errorMessage:null},a.handleChamge=a.handleChamge.bind(Object(y.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(y.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleChamge",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(N.a)({},t,a))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.addMeeting(this.state.meetingName),this.setState({meetingName:""})}},{key:"render",value:function(){return s.a.createElement("div",{className:"container mt-4"},s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"col-md-8 text-center"},s.a.createElement("h1",{className:"font-weight-light"},"Add a Meeting"),s.a.createElement("div",{className:"card bg-light"},s.a.createElement("div",{className:"card-body text-center"},s.a.createElement("form",{className:"formgroup",onSubmit:this.handleSubmit},s.a.createElement("div",{className:"input-group input-group-lg"},s.a.createElement("input",{type:"text",className:"form-control",name:"meetingName",placeholder:"Meeting name","aria-describedby":"buttonAdd",value:this.state.meetingName,onChange:this.handleChamge}),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("button",{type:"submit",className:"btn btn-sm btn-info",id:"buttonAdd"},"+"))))))),this.props.meetingID&&s.a.createElement(I,{meetingID:this.props.meetingID,userID:this.props.userID})))}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={displayName:"",email:""},console.log(a.props),a.handleChange=a.handleChange.bind(Object(y.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(y.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(N.a)({},t,a))}},{key:"handleSubmit",value:function(e){e.preventDefault(),g.database().ref("meetings/".concat(this.props.userID,"/").concat(this.props.meetingID,"/attendees")).push({attendeeName:this.state.displayName,attendeeEmail:this.state.email,star:!1}),Object(d.c)("/attendees/".concat(this.props.userID,"/").concat(this.props.meetingID))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("form",{className:"mt-3",onSubmit:this.handleSubmit},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"card bg-light"},s.a.createElement("div",{className:"card-body"},s.a.createElement("h3",{className:"font-weight-light mb-3"},"Check in"),s.a.createElement("section",{className:"form-group"},s.a.createElement("label",{className:"form-control-label sr-only",htmlFor:"displayName"},"Name"),s.a.createElement("input",{required:!0,className:"form-control",type:"text",id:"displayName",name:"displayName",placeholder:"Name",onChange:this.handleChange})),s.a.createElement("section",{className:"form-group"},s.a.createElement("label",{className:"form-control-label sr-only",htmlFor:"Email"},"Email"),s.a.createElement("input",{required:!0,className:"form-control",type:"email",id:"email",name:"email",placeholder:"Email",onChange:this.handleChange})),s.a.createElement("div",{className:"form-group text-right mb-0"},s.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Check in")))))))))}}]),t}(n.Component),M=a(19),A=a.n(M),x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).deleteAttendee=function(e,t,n){e.preventDefault();var s=a.props.adminUser;A.a.database().ref("meetings/".concat(s,"/").concat(t,"/attendees/").concat(n)).remove()},a.toggleStar=function(e,t,n,s){e.preventDefault();var r=a.props.adminUser,l=A.a.database().ref("meetings/".concat(r,"/").concat(t,"/attendees/").concat(n,"/star"));void 0===s?l.set(!0):l.set(!s)},a.deleteAttendee=a.deleteAttendee.bind(Object(y.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.adminUser===this.props.userID,a=this.props.attendees.map((function(a){return s.a.createElement("div",{className:"col-8 col-sm-6 col-md-4 col-lg-3 mb-2 p-0 px-1",key:a.attendeesID},s.a.createElement("div",{className:"card "},s.a.createElement("div",{className:"card-body px-3 py-2 d-flex align-items-center justify-content-center"},s.a.createElement("div",{className:"card-body px-3 py-2 d-flex align-items-center"+(t?"":"justify-content-center")},t&&s.a.createElement("div",{className:"btn-group pr-2"},s.a.createElement("button",{className:"btn btn-sm btn-outline-secondary",title:"Delete Attendee",onClick:function(t){e.deleteAttendee(t,e.props.meetingID,a.attendeesID)}},s.a.createElement(D.d,null)),s.a.createElement("div",{className:"btn-group pr-2"},s.a.createElement("button",{className:"btn btn-sm "+(a.star?"btn-danger":"btn-outline-secondary"),title:"Delete Attendee",onClick:function(t){e.toggleStar(t,e.props.meetingID,a.attendeesID,a.star)}},s.a.createElement(D.c,null))),s.a.createElement("a",{href:"mailto:".concat(a.attendeeEmail),className:"btn btn-sm btn-outline-secondary",title:"mail attendee"}," ",s.a.createElement(D.b,null)))),s.a.createElement("div",null,a.attendeeName))))}));return s.a.createElement("div",{className:"row justify-content-center"},a)}}]),t}(n.Component),U=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t,n=e.target.name,s=e.target.value;a.setState((t={},Object(N.a)(t,n,s),Object(N.a)(t,"temp",e.target),t))},a.resetQuery=function(){a.state.temp.value="",a.setState({searchQuery:""})},a.state={displayAttendees:[],searchQuery:"",temp:null},a.handleChange=a.handleChange.bind(Object(y.a)(a)),a.resetQuery=a.resetQuery.bind(Object(y.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.database().ref("meetings/".concat(this.props.userID,"/").concat(this.props.meetingID,"/attendees/")).on("value",(function(t){var a=t.val(),n=[];for(var s in a)n.push({attendeesID:s,attendeeName:a[s].attendeeName,attendeeEmail:a[s].attendeeEmail,star:a[s].star}),e.setState({displayAttendees:n})}))}},{key:"render",value:function(){var e=this,t=this.state.displayAttendees.filter((function(t){return t.attendeeName.toLowerCase().match(e.state.searchQuery.toLowerCase())&&!0}));return s.a.createElement("div",{className:"container mt-4"},s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("h1",{className:"font-weight-light text-center"},"Attendees"),s.a.createElement("div",{className:"card bg-light mb-4"},s.a.createElement("div",{className:"card-body text-center"},s.a.createElement("div",{className:"input-group input-group-lg"},s.a.createElement("input",{type:"text",name:"searchQuery",placeholder:"Search Attendees",className:"form-control",onChange:this.handleChange}),s.a.createElement("div",{className:"input-class-append"},s.a.createElement("button",{className:"btn btn-sm btn-outline-info",title:"Reset Search",onClick:this.resetQuery},s.a.createElement(v.b,null)))))))),s.a.createElement(x,{attendees:t,userID:this.props.userID,adminUser:this.props.adminUser,meetingID:this.props.meetingID}))}}]),t}(n.Component),P=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(m.a)(t).call(this))).registerUser=function(t){g.auth().onAuthStateChanged((function(a){a.updateProfile({displayName:t}).then((function(){e.setState({user:a,displayName:t,userID:a.uid}),Object(d.c)("/meetings")}))}))},e.logOutUser=function(t){t.preventDefault(),e.setState({user:null,displayName:null,userID:null}),g.auth().signOut().then((function(){Object(d.c)("/login")}))},e.addMeeting=function(t){g.database().ref("meetings/".concat(e.state.user.uid)).push({meetingName:t})},e.state={user:null,displayName:null,userID:null,meetingID:null,howManyMeetings:null},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.auth().onAuthStateChanged((function(t){t&&(e.setState({user:t,displayName:t.displayName,userID:t.uid}),g.database().ref("meetings/"+t.uid).on("value",(function(t){var a=t.val(),n=[];for(var s in a)n.push({meetingID:s,meetingName:a[s].meetingName});e.setState({meetingID:n,howManyMeetings:n.length})})))}))}},{key:"render",value:function(){var e=this.state.user;return s.a.createElement("div",null,s.a.createElement(E,{user:e,logOutUser:this.logOutUser}),this.state.user&&s.a.createElement(f,{userName:this.state.displayName,logOutUser:this.logOutUser}),s.a.createElement(d.b,null,s.a.createElement(b,{path:"/",user:e}),s.a.createElement(j,{path:"/login"}),s.a.createElement(k,{path:"/meetings",addMeeting:this.addMeeting,user:e,meetingID:this.state.meetingID,userID:this.state.userID}),s.a.createElement(U,{path:"/attendees/:userID/:meetingID",adminUser:this.state.userID}),s.a.createElement(S,{path:"/checkin/:userID/:meetingID"}),s.a.createElement(w,{path:"/register",registerUser:this.registerUser})))}}]),t}(n.Component),W=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function L(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(s.a.createElement(P,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");W?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):L(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):L(t,e)}))}}()}},[[29,1,2]]]);
//# sourceMappingURL=main.4912996a.chunk.js.map